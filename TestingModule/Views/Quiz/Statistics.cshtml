@model IEnumerable<TestingModule.Models.Question>
@{
    ViewBag.Title = "Statistics";
    Layout = "~/Views/Shared/_LayoutStatistics.cshtml";
}

<div class="statistics_moduleName">Викторина "Выеби себя в жьопу в реальном времени"</div>

<div class="questions"></div>

@Html.ActionLink("Зупинити модуль", "StopModule", "admin", new { moduleId = Model.FirstOrDefault().ModuleId }, new { @class="stopModule" })
@*<div id="chartContainer" style="height: 360px; width: 100%;"></div>*@


@section scripts
{
    <script>
        var statisticsModel = @Html.Raw(Json.Encode(@Model));
        var quiz = $.connection.quizHub;
        var moduleId = @Model.FirstOrDefault().ModuleId;

        $.connection.hub.start().done(function() {
            console.log("connected");
            quiz.server.sendqvm(12, "sending out of interval");
        });

        

        //quiz.client.recieveEnquire = function (accountId, connectionId) {
            
        //    console.log(moduleId, accountId, connectionId);
        //    //console.log(quiz.server); 
        //    quiz.server.sendQVM(moduleId, connectionId);
        //}
       

    </script>
}
